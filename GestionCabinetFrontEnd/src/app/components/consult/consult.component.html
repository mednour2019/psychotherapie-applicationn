<div class="container">
  <div class="row">
    <div class="col"></div>
    <div class="col-6">
      <app-alert-spinner
        [loadingSpinner]="loadingGridRdv"
        [lblLoadingText]="lblloadingGrid"
        [fontSize]="'large'"
      >
      </app-alert-spinner>
    </div>
    <div class="col"></div>
  </div>
</div>
<div id="gridCons"></div>
<div #myDivElement class="action-btn-grid">
  <button class="k-button k-grid-edit btn-grid">
    <i class="fa fa-edit ic-grid" aria-hidden="true"> </i> &nbsp; Edit
  </button>
  <button class="k-button k-grid-remove btn-grid">
    <i class="fa fa-trash ic-grid" aria-hidden="true"> </i>&nbsp; Delete
  </button>
  <button class="k-button k-grid-visualize btn-grid">
    <i class="fa fa-eye ic-grid" aria-hidden="true"> </i>&nbsp; Patient record
  </button>
</div>
<div #addCons class="action-btn-grid">
  <button class="k-button k-grid-add">
    <i class="fa fa-plus ic-grid" aria-hidden="true"> </i> &nbsp; Add
    Consultation
  </button>
</div>
<div id="addDialog" class="display-add">
  <br />
  <div class="container">
    <div class="row">
      <div class="col">
        <mat-form-field class="cal-name">
          <mat-label class="labelFormulas">Consultation title</mat-label>
          <input
            matInput
            placeholder="Explanatory title..."
            [(ngModel)]="titreInput"
            class="inputFormulas"
          />
        </mat-form-field>
        <span
          *ngIf="ctrlValdtitre"
          class="k-widget k-tooltip k-tooltip-validation k-invalid-msg"
          data-for="kpiPreviousSteps"
          role="alert"
        >
          <span class="k-icon k-i-warning"> </span>
          {{ msgErrorValdtitre }}
        </span>
      </div>
      <div class="col">
        <mat-label class="labelFormulas">Consultation date</mat-label>
        <input id="datepicker" class="date-birthday" />
        <span
          *ngIf="ctrlValdateCons"
          class="k-widget k-tooltip k-tooltip-validation k-invalid-msg"
          data-for="kpiPreviousSteps"
          role="alert"
        >
          <span class="k-icon k-i-warning"> </span>
          {{ msgErrorValdateCons }}
        </span>
      </div>
    </div>
    <div class="row">
      <div class="col">
        <mat-form-field class="interpcalc">
          <mat-label>Description</mat-label>
          <textarea
            matInput
            placeholder="Explanatory description"
            [(ngModel)]="DesconsInput"
            class="inputGroup"
            id="interp-calc"
          ></textarea>
        </mat-form-field>
        <br />
        <span
          *ngIf="ctrlValdateDescCons"
          class="k-widget k-tooltip k-tooltip-validation k-invalid-msg"
          data-for="kpiPreviousSteps"
          role="alert"
        >
          <span class="k-icon k-i-warning"> </span>
          {{ msgErrorValdCons }}
        </span>
      </div>
      <div class="col">
        <mat-label>Evaluation of the consultation</mat-label>
        <select id="dropDownEval" name="dropDownEval"></select>
        <span
          *ngIf="ctrvalevalcons"
          class="k-widget k-tooltip k-tooltip-validation k-invalid-msg"
          data-for="kpiPreviousSteps"
          role="alert"
        >
          <span class="k-icon k-i-warning"> </span>
          Please select mental evaluation of the consultation!
        </span>
      </div>
    </div>
    <div class="row">
      <div class="col">
        <mat-form-field class="interpcalc">
          <mat-label>Medical history</mat-label>
          <textarea
            matInput
            placeholder="Explanatory medical history..."
            [(ngModel)]="anticInput"
            class="inputGroup"
            id="interp-calc"
          ></textarea>
        </mat-form-field>
        <br />
        <span
          *ngIf="ctrvalevalAnctMedic"
          class="k-widget k-tooltip k-tooltip-validation k-invalid-msg"
          data-for="kpiPreviousSteps"
          role="alert"
        >
          <span class="k-icon k-i-warning"> </span>
          Please enter medical history!
        </span>
      </div>
      <div class="col">
        <mat-label class="labelFormulas"
          >List of available appointments for today
        </mat-label>
        <input id="list-rdv" />
        <span
          *ngIf="ctrlValdRdv"
          class="k-widget k-tooltip k-tooltip-validation k-invalid-msg"
          data-for="kpiPreviousSteps"
          role="alert"
        >
          <span class="k-icon k-i-warning"> </span>
          {{ msgErrorValdRdv }}
        </span>
      </div>
    </div>

    <br />
    <br />
    <br />
    <div
      class="k-dialog-buttongroup k-dialog-button-layout-stretched"
      role="toolbar"
    >
      <button
        id="addButton"
        (click)="saveRecord()"
        class="k-button k-primary saveBtn"
        tabindex="0"
      >
        Save Consultation
        <i class="fas fa-check"></i>
      </button>
      <button
        id="cancelButton"
        (click)="cancelDialog('addDialog')"
        class="k-button"
        tabindex="0"
      >
        Cancel
        <i class="fas fa-times"></i>
      </button>
    </div>
  </div>
</div>
<div id="deleteDialog" class="display-add">
  <br />
  <h2>Delete Consultation</h2>
  <p>Are you sure you want to delete this consultation?</p>
  <br />
  <div
    class="k-dialog-buttongroup k-dialog-button-layout-stretched"
    role="toolbar"
  >
    <button
      id="confirmDeleteButton"
      class="k-button k-primary saveBtn"
      tabindex="0"
      (click)="removeRecord()"
    >
      Delete <i class="fas fa-trash"></i>
    </button>
    <button
      id="cancelDeleteButton"
      class="k-button"
      tabindex="0"
      (click)="cancelDialog('deleteDialog')"
    >
      Cancel <i class="fas fa-times"></i>
    </button>
  </div>
</div>

<div id="view-pat" class="display-add">
  <br />
  <h2>Patient record visualization</h2>
  <br />
  <div class="container">
    <div class="row">
      <div class="col">
        <mat-label>Patient's name</mat-label>
        <div class="col-inf">{{ patientToDisplay.firstName }}</div>
      </div>
      <div class="col">
        <mat-label>Patient's first name</mat-label>
        <div class="col-inf">{{ patientToDisplay.lastName }}</div>
      </div>
    </div>
    <br />
    <br />
    <div class="row">
      <div class="col">
        <mat-label>Patient's date of birth</mat-label>
        <div class="col-inf">
          {{ patientToDisplay.birthday | date : "MM/dd/yyyy" }}
        </div>
      </div>
      <div class="col">
        <mat-label>Chronic diseases&nbsp;</mat-label>
        <div class="col-inf">
          {{ patientToDisplay.chronicDiseases == "0" ? "yes" : "no" }}
        </div>
      </div>
    </div>
    <br />
    <br />
    <div class="row">
      <div class="col">
        <mat-label>Patient's occupation</mat-label>
        <div class="col-inf">{{ patientToDisplay.job }}</div>
      </div>
      <div class="col">
        <mat-label>Patient's gender&nbsp;</mat-label>
        <div class="col-inf">{{ patientToDisplay.sexe }}</div>
      </div>
    </div>
  </div>
</div>
